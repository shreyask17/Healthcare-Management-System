{% extends "base.html" %}
{% block title %}Doctors{% endblock %}

{% block content %}
<h2 class="mb-4 text-center">Doctors</h2>
<div class="mb-3">
  <a href="{{ url_for('index') }}" class="btn btn-secondary">Dashboard</a>
  {% if current_user.role=='doctor' %}
  <a href="{{ url_for('add_doctor') }}" class="btn btn-success">Add Doctor</a>
  {% endif %}
</div>

<table class="table table-striped">
  <thead>
    <tr><th>#</th><th>Name</th><th>Specialization</th>{% if current_user.role=='doctor' %}<th>Action</th>{% endif %}</tr>
  </thead>
  <tbody>
    {% for doctor in doctors %}
    <tr>
      <td>{{ loop.index }}</td>
      <td>{{ doctor.name }}</td>
      <td>{{ doctor.specialization }}</td>
      {% if current_user.role=='doctor' %}
      <td><a href="{{ url_for('delete_doctor', id=doctor.id) }}" class="btn btn-danger btn-sm" onclick="return confirm('Delete doctor?')">Delete</a></td>
      {% endif %}
    </tr>
    {% else %}
    <tr><td colspan="4" class="text-center">No doctors found.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
